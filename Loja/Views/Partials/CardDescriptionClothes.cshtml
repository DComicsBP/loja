@inherits Umbraco.Web.Mvc.UmbracoTemplatePage
@using Loja.Util

@{

    
    var products = Model.Content.GetPropertyValue<List<IPublishedContent>>("cards");
    string[] listCategories;
    List<string> allCategories = new List<string>();
    int i = 0;


    foreach (var p in products)
    {


        var card = Util.Card(p);

        if (card != null)
        {
            var name = card.Name;
            var description = card.Description;
            var value = card.Value;
            var image = card.Image;
            var src = image.Url;

            var categories = p.GetProperty("categories");

            listCategories = Util.GetCategoriesID(categories);

            foreach (var category in listCategories)
            {
                allCategories.Add(category);
            }

        }
    }
    allCategories = allCategories.Distinct().ToList();
    var b = allCategories.Distinct().ToArray();
    foreach (var dist in b)
    {
        <a class="waves-effect waves-light btn" value="">@dist</a>
    }


    foreach (var p in products)
    {


        var card = Util.Card(p);

        if (card != null)
        {
            var name = card.Name;
            var description = card.Description;
            var value = card.Value;
            var image = card.Image;
            var src = image.Url;

            var categories = p.GetProperty("categories");

            <div class="row">
                <div class="col s6 m3">
                    <div class="card">
                        <div class="card-image">
                            <img src="@src" width="20" height="310" />
                        </div>
                        <div class="card-content">
                            <p>
                                <span class="card-title">@name</span>
                            </p>
                        </div>
                        <div class="">
                            <a>@description</a>
                            <br />
                            <span id="value">
                                @value
                            </span>
                        </div>

                    </div>
                </div>
            </div>

        }
    }


}
